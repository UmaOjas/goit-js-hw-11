{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n// import {searchInput} from \"../main.js\";\n// console.log(searchInput);\n\n\nexport function searchImagesByQuery(query) {\n    const URL = \"https://pixabay.com/api/\";\n    const API_KEY =\"45940755-86be6da0f1a4750ab3bd13574\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    return fetch(`${URL}?${params}`).then((response) => {\n        if(!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n}\n\n","// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n// { webformatUrl, largeImageUrl, tags, likes, views, comments, downloads}\n\n\nexport function renderSearchCollection(listImages, images) {\n    function imageTemplate({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n        return  `<li class=\"image-item\">\n        <a href=\"${largeImageURL}\">\n        <img\n        class=\"search-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\" />\n        <table class=\"image-table\">\n            <tr>\n                <th>Likes</th>\n                <th>Views</th>\n                <th>Comments</th>\n                <th>Downloads</th>\n            </tr>\n            <tr>\n                <td>${likes}</td>\n                <td>${views}</td>\n                <td>${comments}</td>\n                <td>${downloads}</td>\n            </tr>\n        </table>\n        </a>\n        </li>`\n    }\n\n    function imagesTemplate(arr) {\n        return arr.map(imageTemplate).join('');\n    };\n    const markup = imagesTemplate(images);\n    listImages.insertAdjacentHTML('beforeend', markup);\n}","// У файлі main.js напиши всю логіку роботи додатка.\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {searchImagesByQuery} from \"./js/pixabay-api\";\nimport {renderSearchCollection} from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\nconst listImages = document.querySelector(\".images\");\nconst loading = document.querySelector(\".loading\");\nconst contLoader = document.querySelector(\".loader-container\");\n\n\nform.addEventListener(\"submit\", handleSuubmit);\n\nfunction handleSuubmit(e) {\n    e.preventDefault();\n    listImages.innerHTML = \" \";\n    let searchInput = form.elements.search.value.trim();\n    if(searchInput === \"\") {\n        iziToast.error({\n            title: ' ',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            titleSize: '16px',\n            titleLineHeight: '24px',\n            messageColor: 'white',\n            messageSize: '16px',\n            messageLineHeight: '24px',\n            backgroundColor: '#ef4040',\n            iconColor: '#ffffff',\n            titleColor: '#ffffff',\n            messageColor: '#ffffff',\n            close: false,\n            position: 'topRight',\n        })\n        return;\n    }\n    contLoader.style.display = \"block\";\n    searchImagesByQuery(searchInput)\n    .then((data) => {\n        contLoader.style.display = \"block\";\n        if(data.hits[0] === undefined) {\n            contLoader.style.display = \"none\";\n            iziToast.error({\n                title: ' ',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                // iconUrl: errorIcon,\n                titleSize: '16px',\n                titleLineHeight: '24px',\n                messageColor: 'white',\n                messageSize: '16px',\n                messageLineHeight: '24px',\n                backgroundColor: '#ef4040',\n                iconColor: '#ffffff',\n                titleColor: '#ffffff',\n                messageColor: '#ffffff',\n                close: false,\n                position: 'topRight',\n            })\n            return;\n        }\n\n\n        renderSearchCollection(listImages, data.hits);\n        contLoader.style.display = \"none\";\n\n        listImages.addEventListener(\"click\", handleClick);\n\n        function handleClick(e) {\n            e.preventDefault()\n            if (e.target.nodeName !== 'IMG') return;\n            const lightbox = new SimpleLightbox('.image-item a', { \n                captionsData: \"alt\",\n             });\n             lightbox .refresh();\n\n        }\n        form.reset();\n    })\n    .catch((error) => {\n        console.log(error)\n    })\n}\n\n\n"],"names":["searchImagesByQuery","query","URL","API_KEY","params","response","renderSearchCollection","listImages","images","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","markup","form","contLoader","handleSuubmit","e","searchInput","iziToast","data","handleClick","SimpleLightbox","error"],"mappings":"6vBAKO,SAASA,EAAoBC,EAAO,CACvC,MAAMC,EAAM,2BACNC,EAAS,qCAETC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAMC,GAAa,CAChD,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CCnBO,SAASC,EAAuBC,EAAYC,EAAQ,CACvD,SAASC,EAAc,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAQ;AAAA,mBACGL,CAAa;AAAA;AAAA;AAAA,eAGjBD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASGC,CAAK;AAAA,sBACLC,CAAK;AAAA,sBACLC,CAAQ;AAAA,sBACRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAK1B,CAED,SAASC,EAAeC,EAAK,CACzB,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CAE7C,CAAI,MAAMU,EAASF,EAAeT,CAAM,EACpCD,EAAW,mBAAmB,YAAaY,CAAM,CACrD,CC1BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCb,EAAa,SAAS,cAAc,SAAS,EACnC,SAAS,cAAc,UAAU,EACjD,MAAMc,EAAa,SAAS,cAAc,mBAAmB,EAG7DD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAG,CACtBA,EAAE,eAAc,EAChBhB,EAAW,UAAY,IACvB,IAAIiB,EAAcJ,EAAK,SAAS,OAAO,MAAM,OAC7C,GAAGI,IAAgB,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,IACP,QAAS,2EACT,UAAW,OACX,gBAAiB,OACjB,aAAc,QACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,UAAW,UACX,WAAY,UACZ,aAAc,UACd,MAAO,GACP,SAAU,UACtB,CAAS,EACD,MACH,CACDJ,EAAW,MAAM,QAAU,QAC3BrB,EAAoBwB,CAAW,EAC9B,KAAME,GAAS,CAEZ,GADAL,EAAW,MAAM,QAAU,QACxBK,EAAK,KAAK,CAAC,IAAM,OAAW,CAC3BL,EAAW,MAAM,QAAU,OAC3BI,EAAS,MAAM,CACX,MAAO,IACP,QAAS,2EAET,UAAW,OACX,gBAAiB,OACjB,aAAc,QACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,UAAW,UACX,WAAY,UACZ,aAAc,UACd,MAAO,GACP,SAAU,UAC1B,CAAa,EACD,MACH,CAGDnB,EAAuBC,EAAYmB,EAAK,IAAI,EAC5CL,EAAW,MAAM,QAAU,OAE3Bd,EAAW,iBAAiB,QAASoB,CAAW,EAEhD,SAASA,EAAY,EAAG,CAEpB,GADA,EAAE,eAAgB,EACd,EAAE,OAAO,WAAa,MAAO,OAChB,IAAIC,EAAe,gBAAiB,CACjD,aAAc,KAC9B,CAAc,EACS,QAAO,CAErB,CACDR,EAAK,MAAK,CAClB,CAAK,EACA,MAAOS,GAAU,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAK,CACL"}